
<!-- ======================= Page Title ===================== -->
<div class="page-title">
    <div class="container">
      <div class="page-caption">
        <h2>Mis Trabajos</h2>
        <p><a href="/" title="Home">Inicio</a> <i class="ti-angle-double-right"></i> Mis Trabajos</p>
      </div>
    </div>
  </div>
  <!-- ======================= End Page Title ===================== --> 
  
  <!-- ======================= Manage Resume ======================== -->

  <section class="utf_create_company_area padd-top-30 padd-bot-80">
    <div class="container">
      <div class="table-responsive">
        <div class="col-md-8 col-sm-12 col-xs-12 browse_job_tlt">
            <h2>Mis Trabajos</h2>
        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
            <a routerLink="crear" data-toggle="modal" data-target="#apply-job" class="btn-job theme-btn job-apply fl-right">Agregar Nuevo</a>
        </div>
        <div>
          <table class="table table-lg table-hover">
            <thead>
              <tr>
                <th>Empresa</th>
                <th>Puesto</th>
                <th>Ubicacion</th>
                <th>Fecha Creacion</th>
                <th>Fecha<br> Vencimiento</th>
                <th>Estado</th>
                <th>Pago</th>
                <th>Cant.<br>Postulantes</th>
                <th>Acción</th>
              </tr>
            </thead>
            <tbody >
              <tr *ngFor="let trabajo of todosLosTrabajos | async">
                  <!-- <td><img [src]="obtenerImagenEmpresa(trabajo) | async" class="avatar avatar-lg" alt="Avatar">{{trabajo.empresaNombre}}</td> -->
                  <td>{{trabajo.empresaNombre}}</td>
                  <td>{{trabajo.puestoTrabajo}}</td>
                  <td>{{trabajo.ciudad}}, {{trabajo.provincia}}</td>
                  <td>{{trabajo.fechaCreacion?.toDate() | date:'dd/MM/yy'}}</td>
                  <td>{{trabajo.fechaVencimiento?.toDate() | date:'dd/MM/yy'}}</td>
                  <td><span class="job-type {{obtenerCSSestado(trabajo)}}">{{calcularEstado(trabajo)}}</span></td>
                  <td><span class="job-type {{obtenerCSSpago(trabajo)}}">{{visualizarEstadoPago(trabajo)}}</span></td>
                  <td class="text-center">
                    <a routerLink="/trabajos/postulantes/idtrabajo" data-toggle="modal" data-target="#apply-job" class="btn-job theme-btn job-apply">
                      <span *ngIf="!trabajo.postulantes">0</span>
                      <span *ngIf="trabajo.postulantes">{{trabajo.postulantes.length}}</span>
                    </a>
                  </td>
                  <td>
                    <a routerLink="{{trabajo.id}}" class="cl-success mrg-5" data-toggle="tooltip" data-original-title="Edit"><i class="fa fa-edit"></i></a> 
                    <a (click)="eliminarTrabajo(trabajo.id)" class="cl-danger mrg-5" data-toggle="tooltip" data-original-title="Delete"><i class="fa fa-trash-o"></i></a>
                  </td>
                </tr>
            </tbody>
          </table>
          <!-- <div class="utf_flexbox_area padd-10">
            <ul class="pagination">
              <li class="page-item"> <a class="page-link" href="#" aria-label="Previous"> <span aria-hidden="true">«</span> <span class="sr-only">Previous</span> </a> </li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"> <a class="page-link" href="#" aria-label="Next"> <span aria-hidden="true">»</span> <span class="sr-only">Next</span> </a> </li>
            </ul>
          </div> -->
        </div>
      </div>
    </div>
  </section>
  <!-- ====================== End Manage Resume ================ --> 